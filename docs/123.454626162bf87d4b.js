"use strict";(self.webpackChunktask1=self.webpackChunktask1||[]).push([[123],{123:(w,g,c)=>{c.r(g),c.d(g,{CategoryComponent:()=>M});var l=c(177),d=c(8934),t=c(2598),_=c(8490),h=c(5794);function u(n,a){if(1&n){const i=t.RV6();t.j41(0,"i",22),t.bIt("click",function(e){t.eBV(i);const o=t.XpG().$implicit,r=t.XpG();return t.Njj(r.addToWishlist(o,e))}),t.k0s()}}function p(n,a){if(1&n){const i=t.RV6();t.j41(0,"i",23),t.bIt("click",function(e){t.eBV(i);const o=t.XpG().$implicit,r=t.XpG();return t.Njj(r.removeFromWishlist(o.id,e))}),t.k0s()}}function m(n,a){if(1&n&&t.nrm(0,"i",24),2&n){const i=a.$implicit,s=t.XpG().$implicit;t.AVh("rating-color",i<=s.rating.rate)}}const P=function(n){return["/details",n]},C=function(){return[1,2,3,4,5]};function f(n,a){if(1&n){const i=t.RV6();t.j41(0,"div",5)(1,"div",6)(2,"div",7),t.nrm(3,"img",8),t.j41(4,"div",9),t.bIt("click",function(e){t.eBV(i);const o=t.XpG();return t.Njj(o.stop(e))}),t.j41(5,"button",10),t.bIt("click",function(){const o=t.eBV(i).$implicit,r=t.XpG();return t.Njj(r.addToCart(o))}),t.EFF(6,"Add To Cart"),t.k0s()(),t.j41(7,"div",11),t.DNE(8,u,1,0,"i",12),t.DNE(9,p,1,0,"i",13),t.j41(10,"i",14),t.bIt("click",function(e){const r=t.eBV(i).$implicit,v=t.XpG();return t.Njj(v.showModal(r.image,e))}),t.k0s()()(),t.j41(11,"div",15)(12,"h3",16),t.EFF(13),t.k0s()(),t.j41(14,"div",17)(15,"div",18)(16,"span",19),t.EFF(17),t.k0s()(),t.j41(18,"div"),t.DNE(19,m,1,2,"i",20),t.j41(20,"span",21),t.EFF(21),t.k0s()()()()()}if(2&n){const i=a.$implicit,s=t.XpG();t.Y8G("routerLink",t.eq3(8,P,i.id)),t.R7$(3),t.Y8G("src",i.image,t.B4B),t.R7$(5),t.Y8G("ngIf",!s.wishlistIds.includes(i.id)),t.R7$(1),t.Y8G("ngIf",s.wishlistIds.includes(i.id)),t.R7$(4),t.JRh(i.title.split(" ").slice(0,3).join(" ")),t.R7$(4),t.SpI("",i.price,"$"),t.R7$(2),t.Y8G("ngForOf",t.lJ4(10,C)),t.R7$(2),t.SpI("(",i.rating.count,")")}}function O(n,a){if(1&n){const i=t.RV6();t.j41(0,"div",25),t.bIt("click",function(){t.eBV(i);const e=t.XpG();return t.Njj(e.showModalVar=!1)}),t.j41(1,"div",26),t.bIt("click",function(e){t.eBV(i);const o=t.XpG();return t.Njj(o.stop(e))}),t.nrm(2,"img",27),t.k0s()()}if(2&n){const i=t.XpG();t.R7$(2),t.Y8G("src",i.imageUrl,t.B4B)}}let M=(()=>{class n{constructor(i,s,e,o){this._DataService=i,this._ActivatedRoute=s,this._Router=e,this._ToastrService=o,this.wishlistProducts=[],this.wishlistIds=[],this.products=[],this.showOurProducts=!1,this.cartProducts=[],this.imageUrl="",this.showModalVar=!1}ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:i=>{this.category=i.get("cat"),this.getCatProducts(this.category)}}),this.getWishListProducts()}getCatProducts(i){this._DataService.getProductsByCategory(i).subscribe({next:s=>{this.products=s,console.log(this.products)}})}getWishListProducts(){null!=sessionStorage.getItem("token")?null!=localStorage.getItem("wishlist")&&(this.wishlistProducts=JSON.parse(localStorage.getItem("wishlist")),this.wishlistIds=this.wishlistProducts.map(i=>i.id)):this.wishlistProducts=[]}stop(i){i.stopPropagation()}addToCart(i){if(null!=sessionStorage.getItem("token")){let s={product:i,quantity:1};null!=localStorage.getItem("cartProducts")?(this.cartProducts=JSON.parse(localStorage.getItem("cartProducts")),this.cartProducts.find(o=>o.product.id==i.id)?this._ToastrService.show("this product already in the cart","Message"):(this.cartProducts.push(s),localStorage.setItem("cartProducts",JSON.stringify(this.cartProducts)),this._DataService.cartNumber.next(this.cartProducts.length),this._ToastrService.success("Product added to the cart successfully","Cart"))):(this.cartProducts.push(s),localStorage.setItem("cartProducts",JSON.stringify(this.cartProducts)),this._DataService.cartNumber.next(this.cartProducts.length),this._ToastrService.success("Product added to the cart successfully","Cart"))}else this._Router.navigate(["/login"]),this._ToastrService.info("to add this item to cart you must login","Login")}addToWishlist(i,s){this.stop(s),null!=sessionStorage.getItem("token")?null!=localStorage.getItem("wishlist")?(this.wishlistProducts=JSON.parse(localStorage.getItem("wishlist")),this.wishlistProducts.push(i),localStorage.setItem("wishlist",JSON.stringify(this.wishlistProducts)),this.wishlistIds=this.wishlistProducts.map(e=>e.id),this._DataService.wishListNumber.next(this.wishlistProducts.length),this._ToastrService.success("Product added to your wishlist","Wishlist")):(this.wishlistProducts.push(i),localStorage.setItem("wishlist",JSON.stringify(this.wishlistProducts)),this.wishlistIds=this.wishlistProducts.map(e=>e.id),this._DataService.wishListNumber.next(this.wishlistProducts.length),this._ToastrService.success("Product added to your wishlist","Wishlist")):(this._Router.navigate(["/login"]),this._ToastrService.info("to add this item to wishlist you must login","Login"))}removeFromWishlist(i,s){this.stop(s),null!=sessionStorage.getItem("token")?(this.wishlistProducts=this.wishlistProducts.filter(e=>e.id!==i),localStorage.setItem("wishlist",JSON.stringify(this.wishlistProducts)),this.wishlistIds=this.wishlistProducts.map(e=>e.id),this._DataService.wishListNumber.next(this.wishlistProducts.length),this._ToastrService.success("Product removed from your wishlist","Wishlist")):(this._Router.navigate(["/login"]),this._ToastrService.info("to add this item to wishlist you must login","Login"))}showModal(i,s){this.stop(s),this.imageUrl=i,this.showModalVar=!0}static{this.\u0275fac=function(s){return new(s||n)(t.rXU(_.u),t.rXU(d.nX),t.rXU(d.Ix),t.rXU(h.tw))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-category"]],standalone:!0,features:[t.aNF],decls:5,vars:2,consts:[[1,"container","py-5"],[1,"row","g-4","selling-cards","mt-4"],["ourProducts",""],["class","col-md-3",3,"routerLink",4,"ngFor","ngForOf"],["class","modal position-fixed d-flex justify-content-center align-items-center top-0 bottom-0 start-0 end-0",3,"click",4,"ngIf"],[1,"col-md-3",3,"routerLink"],[1,"selling-card"],[1,"head"],["height","300","alt","",3,"src"],[3,"click"],["type","button",1,"addBtn","add-btn",3,"click"],[1,"card-detail","d-flex","flex-column"],["class","fa-regular fa-heart shadow",3,"click",4,"ngIf"],["class","fa-solid fa-heart text-danger shadow",3,"click",4,"ngIf"],[1,"fa-regular","fa-eye","shadow",3,"click"],[1,"body"],[1,"mt-2"],[1,"footer","d-flex","justify-content-between","align-items-center"],[1,"price"],[1,"me-4"],["class","fa fa-star me-1",3,"rating-color",4,"ngFor","ngForOf"],[1,"text-muted"],[1,"fa-regular","fa-heart","shadow",3,"click"],[1,"fa-solid","fa-heart","text-danger","shadow",3,"click"],[1,"fa","fa-star","me-1"],[1,"modal","position-fixed","d-flex","justify-content-center","align-items-center","top-0","bottom-0","start-0","end-0",3,"click"],[1,"main-image","m-auto",3,"click"],["alt","",1,"w-100",3,"src"]],template:function(s,e){1&s&&(t.j41(0,"div",0)(1,"div",1,2),t.DNE(3,f,22,11,"div",3),t.k0s()(),t.DNE(4,O,3,1,"div",4)),2&s&&(t.R7$(3),t.Y8G("ngForOf",e.products),t.R7$(1),t.Y8G("ngIf",e.showModalVar))},dependencies:[l.MD,l.Sq,l.bT,d.Wk],styles:[".selling-cards[_ngcontent-%COMP%]{overflow-x:hidden;cursor:pointer}.selling-cards[_ngcontent-%COMP%]   .selling-card[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{overflow:hidden;position:relative}.selling-cards[_ngcontent-%COMP%]   .selling-card[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .card-detail[_ngcontent-%COMP%]{position:absolute;top:20px;left:25px;right:25px;align-items:end;row-gap:10px}.selling-cards[_ngcontent-%COMP%]   .selling-card[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .card-detail[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding:10px;background-color:#fff;border-radius:50%;transition:all .3s ease}.selling-cards[_ngcontent-%COMP%]   .selling-card[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .card-detail[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{background-color:var(--black);color:#fff}.selling-cards[_ngcontent-%COMP%]   .selling-card[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:contain}.selling-cards[_ngcontent-%COMP%]   .selling-card[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]:hover   .addBtn[_ngcontent-%COMP%]{bottom:0}.selling-cards[_ngcontent-%COMP%]   .selling-card[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.selling-cards[_ngcontent-%COMP%]   .selling-card[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;position:absolute;bottom:-80px;left:0;transition:all .3s ease}.selling-cards[_ngcontent-%COMP%]   .selling-card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;font-weight:500}.selling-cards[_ngcontent-%COMP%]   .selling-card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--primary-color)}.selling-cards[_ngcontent-%COMP%]   .selling-card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .selling-cards[_ngcontent-%COMP%]   .selling-card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   del[_ngcontent-%COMP%]{font-weight:600;line-height:24px}.selling-cards[_ngcontent-%COMP%]   .selling-card[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--primary-color);font-weight:600;line-height:24px}"]})}}return n})()}}]);